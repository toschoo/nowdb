/* ========================================================================
 * (c) Tobias Schoofs, 2018 -- 2019
 * ========================================================================
 */
#include <nowdb/scope/ipc.h>

/* ------------------------------------------------------------------------
 * Initialise IPC Manager
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_init(nowdb_ipc_t *ipc, char *path);

/* ------------------------------------------------------------------------
 * Load IPC Catalogue
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_load(nowdb_ipc_t *ipc);

/* ------------------------------------------------------------------------
 * Destroy IPC Manager
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_destroy(nowdb_ipc_t *ipc);

/* ------------------------------------------------------------------------
 * Create lock
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_lock_create(nowdb_ipc_t *ipc, char *name);

/* ------------------------------------------------------------------------
 * Destroy Lock
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_lock_drop(nowdb_ipc_t *ipc, char *name);

/* ------------------------------------------------------------------------
 * Lock
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_lock(nowdb_ipc_t *ipc, char mode);

/* ------------------------------------------------------------------------
 * Unlock
 * ------------------------------------------------------------------------
 */
nowdb_err_t nowdb_ipc_unlock(nowdb_ipc_t *ipc);
